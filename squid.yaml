manifestVersion: subsquid.io/v0.1
name: origin-squid-notifications
version: 1
description: 'Origin Protocol ðŸ¦‘ - Notifications'
build:
deploy:
  env:
    TS_NODE_BASEURL: './lib'
  addons:
    postgres:
    rpc:
      - arbitrum-one.http
      - eth.http
      - base.http
      - sonic-mainnet.http
  secrets:
    - RPC_ENDPOINT
    - RPC_SONIC_ENDPOINT
    - DISCORD_WEBHOOK_URL_OGN
    - DISCORD_WEBHOOK_URL_XOGN
    - DISCORD_WEBHOOK_URL_OETH
    - DISCORD_WEBHOOK_URL_SUPER_OETH_B
    - DISCORD_WEBHOOK_URL_OUSD
    - DISCORD_WEBHOOK_URL_PRIME_ETH
    - DISCORD_WEBHOOK_URL_ARM
    - DISCORD_WEBHOOK_URL_OS
    - DISCORD_WEBHOOK_URL_GOVERNANCE
    - ONCALL_WEBHOOK_URL
    - CLOUDFLARE_ACCOUNT_ID
    - CLOUDFLARE_NAMESPACE_ID
    - CLOUDFLARE_KV_KEY
  processor:
    - name: mainnet-processor
      cmd: ['sqd', 'process:prod']
    - name: base-processor
      cmd: ['sqd', 'process:base:prod']
      env:
        RPC_ENV_BASE: RPC_BASE_HTTP
    - name: sonic-processor
      cmd: ['sqd', 'process:sonic:prod']
scale:
  dedicated: true
  addons:
    postgres:
      storage: 5G
      profile: small
